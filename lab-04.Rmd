---
title: "Lab 04 - Visualizing Spatial Data"
author: "Anahatt Virk"
date: "06/26/25"
output: github_document
---

### Load packages and data
```{r dsbox}
install.packages("devtools", repos = "https://cloud.r-project.org")
devtools::install_github("tidyverse/dsbox")
```

```{r load-packages, message = FALSE}
library(tidyverse) 
library(dsbox) 
```

```{r load-data, message = FALSE}
states <- read_csv("data/states.csv")
```

### Exercise 1

The Denny's dataset has `r nrow(dennys)` rows and `r ncol(dennys)` columns. Each row represents one Denny's location and the variables are address, city, state, zipcode, longitude, and latitude. 

### Exercise 2

The La Quinta dataset has `r nrow(laquinta)` rows and `r ncol(laquinta)` columns. Each row represents one La Quinta location and the variables are address, city, state, zipcode, longitude, and latitude. 

### Exercise 3

From looking at the La Quinta website, there are La Quinta hotels outside of the U.S. These countries include Canada, Mexico, China, New Zealand, Georgia, Turkey, UAE, Chile, Colombia, and Ecuador. On the other hand, from looking at the Denny's website it seems that they only have locations in the U.S. 

### Exercise 4

One way to determine whether either establishment has locations outside of the U.S. by looking at the data is to filter by state by using code. This way, you are able to pull out all international locations. You could also do so by filtering by city. 

### Exercise 5

```{r dennys-by-state}
dn <- dennys %>%
  filter(!(state %in% states$abbreviation))
```

There are `r nrow(dn)` Denny’s locations outside the US.

### Exercise 6

```{r dennys-by-country}
dn %>%
  mutate(country = "United States")
```

There are `r nrow(dn)` Denny’s locations outside the US.

### Exercise 7

Outside of the U.S., there are La Quinta hotels in Canada, Mexico, China, New Zealand, Georgia, Turkey, UAE, Chile, Colombia, and Ecuador.

### Exercise 8

```{r laquinta-by-country}
lq <- laquinta %>% 
  mutate(country = case_when(
    state %in% state.abb ~ "United States",
    state %in% c("ON", "BC") ~ "Canada",
    state == "ANT" ~ "Colombia",
    state == "MX" ~ "Mexico", 
    state == "CH" ~ "China",
    state == "NZ" ~ "New Zealand",
    state == "GE" ~ "Georgia",
    state == "TR" ~ "Turkey",
    state %in% c("AE", "UAE") ~ "UAE",
    state == "CL" ~ "Chile",
    state == "EC" ~ "Ecuador"
  ))
```

```{r laquinta-us}
lq <- lq %>%
  filter(country == "United States")
```

### Exercise 9